<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Purple Forest</title>
    <script type="module" src="./index.mjs"></script>
    <link href="./index.css" rel="stylesheet" />
  </head>
  <body id="app">
    <header>
      <a href="/" data-view="home"
        ><h1>
          <img src="./logo.svg" alt="Purple Forest " width="50" height="60" />
          PurpleForest
        </h1>
      </a>
      <login-component>
        <!-- Login Component Template -->
        <template id="login-template">
          <section aria-label="Log in or sign up" class="login">
            <form data-form class="login__form">
              <div class="login__field">
                <label class="login__label is-invisible" for="username"
                  >Username</label
                >
                <input
                  class="login__input"
                  type="text"
                  id="username"
                  name="username"
                  autocomplete="username"
                  required
                  placeholder="Username"
                />
              </div>

              <div class="login__field">
                <label class="login__label is-invisible" for="password"
                  >Password</label
                >
                <input
                  class="login__input"
                  type="password"
                  id="password"
                  name="password"
                  autocomplete="current-password"
                  required
                  placeholder="password"
                />
              </div>

              <button type="submit" data-submit class="login__submit">
                Log in
              </button>

              <div
                data-error
                class="login__error system-message"
                role="alert"
                aria-live="assertive"
              ></div>
            </form>

            <p class="login__footer system-message" data-signup>
              Don't have an account?
              <a href="#" data-action="signup" class="login__signup-link"
                >Sign up</a
              >
            </p>
            <button type="button" data-action="logout" class="app__nav-item">
              Logout
            </button>
          </section>
        </template>
      </login-component>
    </header>
    <main tabindex="0">
      <signup-component>
        <!-- Signup Component Template -->
        <template id="signup-template">
          <section aria-labelledby="signup-heading" class="signup">
            <h1 id="signup-heading" class="signup__title">
              Create your account
            </h1>

            <form data-form class="signup__form">
              <div class="signup__field">
                <label class="signup__label" for="signup-username"
                  >Username</label
                >
                <input
                  class="signup__input"
                  type="text"
                  id="signup-username"
                  name="username"
                  autocomplete="username"
                  required
                />
              </div>

              <div class="signup__field">
                <label class="signup__label" for="signup-display-name"
                  >Display Name</label
                >
                <input
                  class="signup__input"
                  type="text"
                  id="signup-display-name"
                  name="signup-display-name"
                  required
                />
              </div>

              <div class="signup__field">
                <label class="signup__label" for="signup-password"
                  >Password</label
                >
                <input
                  class="signup__input"
                  type="password"
                  id="signup-password"
                  name="password"
                  autocomplete="new-password"
                  required
                  minlength="5"
                />
              </div>

              <div class="signup__field">
                <label class="signup__label" for="signup-confirm-password"
                  >Confirm Password</label
                >
                <input
                  class="signup__input"
                  type="password"
                  id="signup-confirm-password"
                  name="signup-confirm-password"
                  autocomplete="new-password"
                  required
                  minlength="5"
                />
              </div>

              <button type="submit" data-submit class="signup__submit">
                Sign up
              </button>

              <div
                data-error
                class="signup__error system-message"
                role="alert"
                aria-live="polite"
              ></div>
            </form>

            <footer class="signup__footer system-message">
              <h3>
                Already have an account?
                <a href="#" data-action="login" class="signup__login-link"
                  >Log in</a
                >
              </h3>
            </footer>
          </section>
        </template>
      </signup-component>
      <profile-component>
        <!-- Profile Component Template -->
        <template id="profile-template">
          <section aria-labelledby="profile-name" class="profile box">
            <header class="profile__header flex">
              <div
                class="profile__avatar"
                data-avatar
                role="img"
                aria-label="User avatar"
              >
                🟣
              </div>
              <h2 data-username class="profile__username"></h2>
            </header>

            <dl class="profile__stats">
              <div class="profile__stat flex">
                <dt>Following</dt>
                <dd data-following-count>0</dd>
              </div>
              <div class="profile__stat flex">
                <dt>Followers</dt>
                <dd data-followers-count>0</dd>
              </div>
              <div class="profile__stat flex">
                <dt>Blooms</dt>
                <dd data-blooms-count>0</dd>
              </div>
            </dl>

            <div class="profile__actions flex">
              <button
                type="button"
                data-action="follow"
                class="profile__follow"
              >
                Follow
              </button>

              <button
                type="button"
                data-action="unfollow"
                class="profile__unfollow"
                hidden
              >
                Unfollow
              </button>
            </div>
            <div data-error></div>
          </section>
        </template>
      </profile-component>
      <bloom-form-component>
        <!-- bloom Form Component Template -->
        <template id="bloom-form-template">
          <section aria-labelledby="compose-heading" class="bloom-form">
            <h2 id="compose-heading" class="bloom-form__title is-invisible">
              Compose bloom
            </h2>

            <form data-form class="bloom-form__form">
              <div class="bloom-form__field">
                <label for="bloom-content" class="is-invisible"
                  >bloom content</label
                >
                <textarea
                  id="bloom-content"
                  data-content
                  class="bloom-form__textarea"
                  placeholder="What's happening?"
                  required
                  maxlength="280"
                  rows="6"
                  aria-describedby="char-count"
                ></textarea>
              </div>
              <button type="submit" data-submit class="bloom-form__submit">
                Bloom
              </button>
              <span
                id="char-count"
                data-char-count
                class="bloom-form__char-count system-message"
                aria-live="polite"
              ></span>
              <div
                data-error
                class="bloom-form__error system-message"
                role="alert"
                aria-live="assertive"
              ></div>
            </form>
          </section>
        </template>
      </bloom-form-component>
      <timeline-component>
        <!-- Timeline Component Template -->
        <template id="timeline-template">
          <section aria-labelledby="timeline-heading" class="timeline">
            <header class="timeline__header">
              <h2 id="timeline-heading" data-title class="timeline__title">
                Timeline
              </h2>
              <div data-actions class="timeline__actions"></div>
            </header>

            <div
              data-error
              hidden
              class="timeline__error system-message"
              role="alert"
            ></div>

            <div data-empty class="timeline__empty system-message">
              <p>No blooms to display</p>
            </div>

            <div data-login-message class="timeline__login-message">
              <p>Log in to see the forest</p>
              <p>
                Connect with other users and see their blooms in your timeline.
              </p>
            </div>

            <section data-content class="timeline__content">
              <!-- Will be populated dynamically with bloom-component elements -->
            </section>
          </section>
        </template>
        <!-- Bloom Component Template -->
        <template id="bloom-template">
          <article class="bloom box" aria-labelledby="bloom-username">
            <header class="bloom__header flex">
              <a
                href="#"
                id="bloom-username"
                data-username
                class="bloom__username"
                aria-label="View user profile"
              ></a>
              <time data-timestamp class="bloom__timestamp" datetime=""></time>
            </header>
            <div data-content class="bloom__content"></div>
            <footer class="bloom__actions">
              <button
                type="button"
                data-action="like"
                class="bloom__action bloom__action--like"
                aria-label="Like bloom"
              >
                <span aria-hidden="true">❤️</span> <span data-like-count></span>
              </button>
            </footer>
          </article>
        </template>
      </timeline-component>
    </main>
    <footer>
      <h3>This Legacy Code project is coursework from Code Your Future</h3>
    </footer>

    <noscript>
      <p>Please enable JavaScript in your browser.</p>
    </noscript>

    <!--all the components-->
    <script type="module" src="./index.mjs"></script>
    <script type="module" src="./components/login/LoginComponent.mjs"></script>
    <script
      type="module"
      src="./components/signup/SignupComponent.mjs"
    ></script>
    <script
      type="module"
      src="./components/profile/ProfileComponent.mjs"
    ></script>
    <script
      type="module"
      src="./components/bloom-form/BloomFormComponent.mjs"
    ></script>
    <script type="module" src="./components/bloom/BloomComponent.mjs"></script>
    <script
      type="module"
      src="./components/timeline/TimelineComponent.mjs"
    ></script>
  </body>
</html>
